{"version":3,"sources":["file:///F:/git/TestMatch3/assets/Scripts/Logic/FieldController.ts"],"names":["FieldController","BallColor","FieldConfig","constructor","field","RemoveFromCoord","coord","ball","y","x","NONE","DropDownBalls","fieldSize","yAdditional"],"mappings":";;;sDAGaA,e;;;;;;;;;;;;;;;;;;AAHJC,MAAAA,S,iBAAAA,S;;AACAC,MAAAA,W,iBAAAA,W;;;;;;;iCAEIF,e,GAAN,MAAMA,eAAN;AAAA;AAAA,sCAA2C;AAC9CG,QAAAA,WAAW,CACCC,KADD,EACiC;AACxC;AADwC,eAAhCA,KAAgC,GAAhCA,KAAgC;AAE3C;;AAEDC,QAAAA,eAAe,CAACC,KAAD,EAAkC;AAC7C,eAAK,IAAMC,IAAX,IAAmBD,KAAnB,EAA0B;AACtB,iBAAKF,KAAL,CAAWG,IAAI,CAACC,CAAhB,EAAmBD,IAAI,CAACE,CAAxB,IAA6B;AAAA;AAAA,wCAAUC,IAAvC;AACH;AACJ;;AAEDC,QAAAA,aAAa,GAAG;AACZ,eAAI,IAAIH,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAG,KAAKI,SAAxB,EAAmC,EAAEJ,CAArC,EAAwC;AACpC,iBAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAG,KAAKG,SAAxB,EAAmC,EAAEH,CAArC,EAAwC;AACpC,kBAAI,KAAKL,KAAL,CAAWI,CAAX,EAAcC,CAAd,MAAqB;AAAA;AAAA,0CAAUC,IAAnC,EAAyC;AACrC,oBAAIG,WAAW,GAAG,CAAlB;;AACA,uBAAO,KAAKT,KAAL,CAAWI,CAAC,GAAGK,WAAf,KAA+B,KAAKT,KAAL,CAAWI,CAAC,GAAGK,WAAf,EAA4BJ,CAA5B,MAAmC;AAAA;AAAA,4CAAUC,IAAnF,EAAyF;AACrF,oBAAEG,WAAF;AACH;;AACD,qBAAKT,KAAL,CAAWI,CAAX,EAAcC,CAAd,IAAmB,KAAKL,KAAL,CAAWI,CAAC,GAAGK,WAAf,EAA4BJ,CAA5B,CAAnB;AACA,qBAAKL,KAAL,CAAWI,CAAC,GAAGK,WAAf,EAA4BJ,CAA5B,IAAiC;AAAA;AAAA,4CAAUC,IAA3C;AACH;AACJ;AACJ;AACJ;;AAzB6C,O","sourcesContent":["import { BallColor } from \"../Enums/BallColor\";\r\nimport { FieldConfig } from \"./FieldConfig\";\r\n\r\nexport class FieldController extends FieldConfig  {\r\n    constructor( \r\n        private field: Array<Array<BallColor>>) {\r\n        super();\r\n    }\r\n\r\n    RemoveFromCoord(coord: {x: number, y: number}[]) {\r\n        for (const ball of coord) {\r\n            this.field[ball.y][ball.x] = BallColor.NONE;\r\n        }\r\n    }\r\n\r\n    DropDownBalls() {\r\n        for(let y = 0; y < this.fieldSize; ++y) {\r\n            for(let x = 0; x < this.fieldSize; ++x) {\r\n                if (this.field[y][x] === BallColor.NONE) {\r\n                    let yAdditional = 1;\r\n                    while (this.field[y + yAdditional] && this.field[y + yAdditional][x] === BallColor.NONE) {\r\n                        ++yAdditional;\r\n                    }\r\n                    this.field[y][x] = this.field[y + yAdditional][x];\r\n                    this.field[y + yAdditional][x] = BallColor.NONE;\r\n                }\r\n            }\r\n        }\r\n    }    \r\n}"]}