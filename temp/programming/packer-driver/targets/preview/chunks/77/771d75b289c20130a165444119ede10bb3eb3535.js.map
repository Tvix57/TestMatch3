{"version":3,"sources":["file:///F:/git/TestMatch3/assets/Scripts/Save/State.ts"],"names":["ApplicationState","GameState","IState","constructor","gameState","isFirstLaunch","HasGame","IsGameFinished","isFinished","Save","JSON","stringify","Load","input","obj","parse"],"mappings":";;;iDAGaA,gB;;;;;;;;;;;;;;;;;;AAHJC,MAAAA,S,iBAAAA,S;;AACAC,MAAAA,M,iBAAAA,M;;;;;;;kCAEIF,gB,GAAN,MAAMA,gBAAN;AAAA;AAAA,4BACP;AAIIG,QAAAA,WAAW,CACPC,SADO,EAEPC,aAFO,EAGV;AACG;AADH,eANDD,SAMC;AAAA,eALDC,aAKC;AAEG,eAAKD,SAAL,GAAiBA,SAAjB;AACA,eAAKC,aAAL,GAAqBA,aAArB;AACH;;AAEDC,QAAAA,OAAO,GAAW;AACd,iBAAO,KAAKF,SAAL,IAAkB,IAAzB;AACH;;AAEDG,QAAAA,cAAc,GAAW;AAAA;;AACrB,6DAAO,KAAKH,SAAZ,qBAAO,gBAAgBI,UAAvB,oCAAqC,IAArC;AACH;;AAEDC,QAAAA,IAAI,GAAW;AACX,iBAAOC,IAAI,CAACC,SAAL,CAAe,IAAf,CAAP;AACH;;AAEU,eAAJC,IAAI,CAACC,KAAD,EAAiC;AACxC,cAAIC,GAAG,GAAGJ,IAAI,CAACK,KAAL,CAAWF,KAAX,CAAV;;AACA,cAAG,EAAE,mBAAmBC,GAArB,CAAH,EAA8B;AAC1B,mBAAO,IAAId,gBAAJ,EAAP;AACH;;AACD,iBAAO,IAAIA,gBAAJ,CACH;AAAA;AAAA,sCAAUY,IAAV,CAAeE,GAAG,CAACV,SAAnB,CADG,CAAP;AAGH;;AAjCL,O","sourcesContent":["import { GameState } from \"../Session/GameState\";\r\nimport { IState } from \"./SaveInterfaces\";\r\n\r\nexport class ApplicationState extends IState\r\n{\r\n    gameState?:GameState\r\n    isFirstLaunch?:boolean\r\n\r\n    constructor(\r\n        gameState?:GameState,\r\n        isFirstLaunch?:boolean\r\n    ){\r\n        super();\r\n        this.gameState = gameState\r\n        this.isFirstLaunch = isFirstLaunch\r\n    }\r\n\r\n    HasGame():boolean {\r\n        return this.gameState != null\r\n    }\r\n\r\n    IsGameFinished():boolean {\r\n        return this.gameState?.isFinished ?? true\r\n    }\r\n\r\n    Save(): string {\r\n        return JSON.stringify(this)\r\n    }\r\n\r\n    static Load(input:string): ApplicationState {\r\n        let obj = JSON.parse(input)\r\n        if(!(\"isFirstLaunch\" in obj)) {\r\n            return new ApplicationState()\r\n        }\r\n        return new ApplicationState(\r\n            GameState.Load(obj.gameState), \r\n        )\r\n    }\r\n}"]}