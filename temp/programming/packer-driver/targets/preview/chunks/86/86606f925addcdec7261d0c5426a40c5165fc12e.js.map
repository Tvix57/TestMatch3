{"version":3,"sources":["file:///F:/git/TestMatch3/assets/Scripts/GameManagerComponent.ts"],"names":["_decorator","Component","director","JsonAsset","sys","ScenePoolManagerComponent","LocationType","ccclass","property","uniquelyReferenced","GameManagerComponent","_scene","onLoad","addPersistRootNode","node","_animations","getComponent","AnimationsManagerComponent","scene","_soundManager","AudioManagerComponent","AppRoot","getInstance","Init","os","OS","IOS","Platform","Ios","ANDROID","Android","Editor","timer","settingsFile","json","storeFile","namesFile","AddLocation","LoadingScene","StartScene","GameScene","ScoreScene"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,Q,OAAAA,Q;AAAUC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,G,OAAAA,G;;AAE5CC,MAAAA,yB,iBAAAA,yB;;AACAC,MAAAA,Y,iBAAAA,Y;;;;;;;;;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;OAEM;AAAEC,QAAAA,OAAF;AAAWC,QAAAA,QAAX;AAAoBC,QAAAA;AAApB,O,GAA2CT,U;;sCAIpCU,oB,WAFZH,OAAO,CAAC,sBAAD,C,UAIHC,QAAQ,CAACL,SAAD,C,UACRK,QAAQ,CAACL,SAAD,C,UACRK,QAAQ,CAACL,SAAD,C,gBALZM,kB,qBADD,MAEaC,oBAFb,SAE0CT,SAF1C,CAGA;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,eAKYU,MALZ;AAAA;;AAMI;AACA;AACA;AACA;AACA;AACA;AACA;AAEUC,QAAAA,MAAM,GAAS;AACrBV,UAAAA,QAAQ,CAACW,kBAAT,CAA4B,KAAKC,IAAjC;AAEA,eAAKC,WAAL,GAAmB,KAAKC,YAAL,CAAkBC,0BAAlB,CAAnB;AACA,cAAIC,KAAK,GAAG,KAAKF,YAAL;AAAA;AAAA,qEAAZ;AACA,eAAKL,MAAL,GAAcO,KAAd;AACA,eAAKC,aAAL,GAAqB,KAAKH,YAAL,CAAkBI,qBAAlB,CAArB;AAEAC,UAAAA,OAAO,CAACC,WAAR,CAAoBC,IAApB,CACInB,GAAG,CAACoB,EAAJ,IAAUpB,GAAG,CAACqB,EAAJ,CAAOC,GAAjB,GAAuBC,QAAQ,CAACC,GAAhC,GAAsCxB,GAAG,CAACoB,EAAJ,IAAUpB,GAAG,CAACqB,EAAJ,CAAOI,OAAjB,GAA2BF,QAAQ,CAACG,OAApC,GAA8CH,QAAQ,CAACI,MADjG,EAEI,KAAKpB,MAFT,EAGI,KAAKI,WAHT,EAII,KAAKI,aAJT,EAKIa,KALJ,EAMoB,KAAKC,YAAL,CAAkBC,IANtC,EAOqB,KAAKC,SAAL,CAAeD,IAPpC,EAQgB,KAAKE,SAAL,CAAeF,IAR/B;AAUAb,UAAAA,OAAO,CAACC,WAAR,CAAoBV,MAApB;AAEAM,UAAAA,KAAK,CAACmB,WAAN,CAAkB;AAAA;AAAA,4CAAaC,YAA/B,EAAmD,sBAAnD,EAA4G,CAA5G;AACApB,UAAAA,KAAK,CAACmB,WAAN,CAAkB;AAAA;AAAA,4CAAaE,UAA/B,EAAmD,oBAAnD,EAA4G,CAA5G;AACArB,UAAAA,KAAK,CAACmB,WAAN,CAAkB;AAAA;AAAA,4CAAaG,SAA/B,EAAmD,6BAAnD,EAA4G,CAA5G;AACAtB,UAAAA,KAAK,CAACmB,WAAN,CAAkB;AAAA;AAAA,4CAAaI,UAA/B,EAAmD,+BAAnD,EAA4G,CAA5G;AAEH;;AAvCL,O;;;;;iBACkD,I;;;;;;;iBACH,I;;;;;;;iBACA,I","sourcesContent":["import { _decorator, Component, director, JsonAsset, sys } from 'cc';\r\nimport { ISceneManager } from './Scene/ISceneManager';\r\nimport { ScenePoolManagerComponent } from './Scene/ScenePoolManagerComponent';\r\nimport { LocationType } from './Enums/LocationType';\r\n// import { AnimationsManagerComponent } from '../Scene/AnimationsManagerComponent';\r\n// import { AudioManagerComponent } from '../Scene/AudioManagerComponent';\r\n// import { DialogManagerComponent } from '../Scene/DialogManagerComponent';\r\n// import { LoaderComponent } from '../Scene/LoaderComponent';\r\n// import { ScenePoolManagerComponent } from '../Scene/ScenePoolManagerComponent';\r\n// import { LocalizationComponent } from '../Text/LocalizationComponent';\r\n// import { TutorialLauncherComponent } from '../TutorialScene/TutorialLauncherComponent';\r\n// import { ISceneManager } from '../Scene/ISceneManager';\r\n// import { AppRoot } from './AppRoot';\r\n// import { Platform } from './ApplicationConfig';\r\n// import { LocationType } from \"../Cocos/CCEnums\";\r\n// import { BankSceneFactory } from '../BankScene/BankSceneFactory';\r\n// import { BusinessSceneFactory } from '../BusinessScene/BusinessSceneFactory';\r\n// import { CharInfoSceneFactory } from '../CharInfoScene/CharInfoSceneFactory';\r\n// import { CollectionSceneFactory } from '../CollectionScene/CollectionSceneFactory';\r\n// import { CreateCharacterSceneFactory } from '../CreateCharacterScene/CreateCharacterSceneFactory';\r\n// import { DeathSceneFactory } from '../DeathScene/DeathSceneFactory';\r\n// import { ItemsLayerFactory } from '../ItemsScene/ItemsLayerFactory';\r\n// import { JobLayerFactory } from '../ItemsScene/JobLayerFactory';\r\n// import { MetaSceneLayerFactory } from '../MetaScene/MetaSceneLayerFactory';\r\n// import { CardsSceneFactory } from '../MiniGames/Cards/CardsScene/CardsSceneFactory';\r\n// import { SlotSceneFactory } from '../MiniGames/Slots/SlotsScene/SlotSceneFactory';\r\n// import { X2MoneySceneFactory } from '../MiniGames/X2Money/X2MoneySceneFactory';\r\n// import { OffersLayerFactory } from '../OffersScene/OffersLayerFactory';\r\n// import { QuestsSceneFactory } from '../QuestScene/QuestsSceneFactory';\r\n// import { StoreLayerFactory } from '../StoreScene/StoreLayerFactory';\r\n// import { WelfareLayerFactory } from '../WelfareScene/WelfareLayerFactory';\r\n// import { NameConfig, SettingsConfig } from '../Settings/SettingsConfig';\r\n// import { StoreJsonConfig } from '../Store/StoreConfig';\r\n// import { OfflineTimer } from './Timers';\r\n// import { BackgroundManagerComponent } from '../Scene/BackgroundManagerComponent';\r\n\r\nconst { ccclass, property,uniquelyReferenced } = _decorator;\r\n\r\n@ccclass('GameManagerComponent')\r\n@uniquelyReferenced\r\nexport class GameManagerComponent extends Component \r\n{\r\n    @property(JsonAsset) settingsFile:JsonAsset = null!\r\n    @property(JsonAsset) storeFile:JsonAsset = null!\r\n    @property(JsonAsset) namesFile:JsonAsset = null!\r\n    \r\n    private _scene!:ISceneManager\r\n    // private _dialog!:DialogManagerComponent\r\n    // private _animations!:AnimationsManagerComponent\r\n    // private _backgroundManager!:BackgroundManagerComponent\r\n    // private _soundManager!:AudioManagerComponent\r\n    // private _loader!:LoaderComponent\r\n    // private _localizationComponent!:LocalizationComponent\r\n    // private _tutorLauncher!:TutorialLauncherComponent\r\n\r\n    protected onLoad(): void {\r\n        director.addPersistRootNode(this.node);\r\n          \r\n        this._animations = this.getComponent(AnimationsManagerComponent)!;\r\n        let scene = this.getComponent(ScenePoolManagerComponent)!;\r\n        this._scene = scene\r\n        this._soundManager = this.getComponent(AudioManagerComponent)!;\r\n\r\n        AppRoot.getInstance.Init(\r\n            sys.os == sys.OS.IOS ? Platform.Ios : sys.os == sys.OS.ANDROID ? Platform.Android : Platform.Editor,\r\n            this._scene,\r\n            this._animations,\r\n            this._soundManager,\r\n            timer,\r\n            <SettingsConfig>this.settingsFile.json,\r\n            <StoreJsonConfig>this.storeFile.json,\r\n            <NameConfig>this.namesFile.json\r\n        )\r\n        AppRoot.getInstance.onLoad()\r\n\r\n        scene.AddLocation(LocationType.LoadingScene       ,\"Prefabs/LoadingScene\"                                  ,0 )\r\n        scene.AddLocation(LocationType.StartScene         ,\"Prefabs/StartScene\"                                    ,0 )\r\n        scene.AddLocation(LocationType.GameScene          ,\"Prefabs/MainScene/MainScene\"                           ,1 )\r\n        scene.AddLocation(LocationType.ScoreScene         ,\"Prefabs/IntroOutro/IntroLayer\"                         ,2 )\r\n\r\n    }\r\n}\r\n\r\n"]}