{"version":3,"sources":["file:///F:/git/TestMatch3/assets/Scripts/Scene/ScoreScene/ScoreSceneComponent.ts"],"names":["_decorator","Component","instantiate","Node","Prefab","ScoreItemComponent","ScoreScenePresenter","AppRoot","ccclass","property","ScoreSceneComponent","presenter","onEnable","getInstance","ResolveGameContext","ResolveGame","ResolveGameStats","LoadScores","onDisable","contentnode","removeAllChildren","AddScore","name","score","node","scoreItemPrefab","itemCmp","getComponent","nameLabel","string","scoreLabel","toString","addChild"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,M,OAAAA,M;;AAC1CC,MAAAA,kB,iBAAAA,kB;;AACAC,MAAAA,mB,iBAAAA,mB;;AACAC,MAAAA,O,iBAAAA,O;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBT,U;;qCAGjBU,mB,WADZF,OAAO,CAAC,qBAAD,C,UAEHC,QAAQ,CAACN,IAAD,C,UAGRM,QAAQ,CAACL,MAAD,C,2BALb,MACaM,mBADb,SACyCT,SADzC,CACmD;AAAA;AAAA;;AAAA;;AAAA;;AAAA,eAOvCU,SAPuC;AAAA;;AASrCC,QAAAA,QAAQ,GAAS;AACvB,eAAKD,SAAL,GAAiB;AAAA;AAAA,0DAAwB,IAAxB,EAA8B;AAAA;AAAA,kCAAQE,WAAR,CAAoBC,kBAApB,GAAyCC,WAAzC,GAAuDC,gBAAvD,EAA9B,CAAjB;AACA,eAAKL,SAAL,CAAgBM,UAAhB;AACH;;AAESC,QAAAA,SAAS,GAAS;AACxB,eAAKC,WAAL,CAAiBC,iBAAjB;AACH;;AAEDC,QAAAA,QAAQ,CAACC,IAAD,EAAgBC,KAAhB,EAA+B;AACnC,cAAMC,IAAI,GAAGtB,WAAW,CAAC,KAAKuB,eAAN,CAAxB;AACA,cAAMC,OAAO,GAAGF,IAAI,CAACG,YAAL;AAAA;AAAA,uDAAhB;AACAD,UAAAA,OAAO,CAAEE,SAAT,CAAmBC,MAAnB,GAA4BP,IAA5B;AACAI,UAAAA,OAAO,CAAEI,UAAT,CAAoBD,MAApB,GAA6BN,KAAK,CAACQ,QAAN,EAA7B;AACA,eAAKZ,WAAL,CAAiBa,QAAjB,CAA0BR,IAA1B;AACH;;AAxB8C,O;;;;;iBAEnB,I;;;;;;;iBAGM,I","sourcesContent":["import { _decorator, Component, instantiate, Node, Prefab } from 'cc';\r\nimport { ScoreItemComponent } from './ScoreItemComponent';\r\nimport { ScoreScenePresenter } from './ScoreScenePresenter';\r\nimport { AppRoot } from '../../Application/AppRoot';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('ScoreSceneComponent')\r\nexport class ScoreSceneComponent extends Component {\r\n    @property(Node)\r\n    private contentnode: Node = null!\r\n\r\n    @property(Prefab)\r\n    private scoreItemPrefab: Prefab = null!\r\n\r\n    private presenter?: ScoreScenePresenter\r\n\r\n    protected onEnable(): void {\r\n        this.presenter = new ScoreScenePresenter(this, AppRoot.getInstance.ResolveGameContext().ResolveGame().ResolveGameStats())\r\n        this.presenter!.LoadScores()\r\n    }\r\n\r\n    protected onDisable(): void {   \r\n        this.contentnode.removeAllChildren()\r\n    }\r\n\r\n    AddScore(name : string, score: number) {\r\n        const node = instantiate(this.scoreItemPrefab)\r\n        const itemCmp = node.getComponent(ScoreItemComponent)\r\n        itemCmp!.nameLabel.string = name\r\n        itemCmp!.scoreLabel.string = score.toString()\r\n        this.contentnode.addChild(node)\r\n    }\r\n}\r\n\r\n\r\n"]}