{"version":3,"sources":["file:///F:/git/TestMatch3/assets/Scripts/Session/GameLogic.ts"],"names":["GameLogic","Loop","GameStats","Field","constructor","timer","state","_loop","_field","_gameStats","field","gameStats","ResolveLoop","ResolveField","ResolveGameStats","GetName","name","WillSave","currentState","GetTotal","Finish","RemoveAll"],"mappings":";;;sDAeaA,S;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AANJC,MAAAA,I,iBAAAA,I;;AAEAC,MAAAA,S,iBAAAA,S;;AACAC,MAAAA,K,iBAAAA,K;;;;;;AAZT;AACA;AACA;AACA;AACA;AACA;;;2BAUaH,S,GAAN,MAAMA,SAAN,CACP;AAMII,QAAAA,WAAW,CAACC,KAAD,EAA0BC,KAA1B,EAA0C;AAAA,eAL7CC,KAK6C;AAAA,eAJ7CC,MAI6C;AAAA,eAH7CC,UAG6C;AAAA,eAAhBH,KAAgB,GAAhBA,KAAgB;AACjD,eAAKC,KAAL,GAAa;AAAA;AAAA,4BAASF,KAAT,CAAb;AACA,eAAKG,MAAL,GAAc;AAAA;AAAA,8BAAUF,KAAK,CAACI,KAAhB,CAAd;AACA,eAAKD,UAAL,GAAkB;AAAA;AAAA,sCAAcH,KAAK,CAACK,SAApB,CAAlB;AACH;;AAEDC,QAAAA,WAAW,GAAG;AAAE,iBAAO,KAAKL,KAAZ;AAAmB;;AACnCM,QAAAA,YAAY,GAAG;AAAE,iBAAO,KAAKL,MAAZ;AAAoB;;AACrCM,QAAAA,gBAAgB,GAAG;AAAE,iBAAO,KAAKL,UAAZ;AAAwB;;AAC7CM,QAAAA,OAAO,GAAU;AAAE,iBAAO,KAAKT,KAAL,CAAWI,KAAX,CAAiBM,IAAxB;AAA8B;;AAEjDC,QAAAA,QAAQ,CAACC,YAAD,EAAyB;AAC7BA,UAAAA,YAAY,CAACP,SAAb,GAAyB,KAAKF,UAAL,CAAgBU,QAAhB,EAAzB;AACH;;AACDC,QAAAA,MAAM,GAAE;AACJ,eAAKb,KAAL,CAAWc,SAAX;AACH;;AAtBL,O","sourcesContent":["/**\r\n * \r\n * GameLogic.ts\r\n * db://assets/Scripts/Game/GameLogic.ts\r\n *\r\n */\r\n\r\n\r\nimport { GameState } from \"./GameState\"\r\nimport { Loop } from \"./../Logic/Loop\"\r\nimport { IAppTimer } from \"../Application/IAppTimer\"\r\nimport { GameStats } from \"../GameStats/GameStats\"\r\nimport { Field } from \"../Logic/Field\"\r\n\r\n\r\nexport class GameLogic\r\n{\r\n    private _loop:Loop\r\n    private _field: Field\r\n    private _gameStats:GameStats;\r\n\r\n\r\n    constructor(timer:IAppTimer, private state:GameState){\r\n        this._loop = new Loop(timer)\r\n        this._field = new Field(state.field)\r\n        this._gameStats = new GameStats(state.gameStats)\r\n    }\r\n\r\n    ResolveLoop() { return this._loop }\r\n    ResolveField() { return this._field }\r\n    ResolveGameStats() { return this._gameStats }\r\n    GetName():string { return this.state.field.name }\r\n\r\n    WillSave(currentState:GameState) {\r\n        currentState.gameStats = this._gameStats.GetTotal();\r\n    }\r\n    Finish(){\r\n        this._loop.RemoveAll()\r\n    }\r\n}"]}