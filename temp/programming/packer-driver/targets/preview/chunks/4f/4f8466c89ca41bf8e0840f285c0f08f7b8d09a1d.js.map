{"version":3,"sources":["file:///F:/git/TestMatch3/assets/Scripts/Logic/Loop.ts"],"names":["Loop","AbstractDispatcher","TimeSpeed","constructor","timer","_speedType","AddHandler","Play","Tick","GetTimeSpeed","_dispatcher","Post","arg","OnDayChange"],"mappings":";;;kDAeaA,I;;;;;;;;;;;;;;;;;;;;;;AAdJC,MAAAA,kB,iBAAAA,kB;;;;;;;2BAEGC,S,0BAAAA,S;AAAAA,QAAAA,S,CAAAA,S;AAAAA,QAAAA,S,CAAAA,S;AAAAA,QAAAA,S,CAAAA,S;eAAAA,S;;;sBAYCF,I,GAAN,MAAMA,IAAN;AAAA;AAAA,oDACP;AAIIG,QAAAA,WAAW,CAACC,KAAD,EAAiB;AACxB;AADwB,eAHpBC,UAGoB;AAExBD,UAAAA,KAAK,CAACE,UAAN,CAAiB,IAAjB;AACA,eAAKD,UAAL,GAAkBH,SAAS,CAACK,IAA5B;AAEH;;AAEDC,QAAAA,IAAI,GAAS;AACT,cAAG,KAAKC,YAAL,OAAwBP,SAAS,CAACK,IAArC,EAA0C;AACtC,iBAAKG,WAAL,CAAiBC,IAAjB,CAAuBC,GAAD,IAAOA,GAAG,CAACC,WAAX,oBAAOD,GAAG,CAACC,WAAJ,EAA7B;AACH;AACJ;;AAfL,O","sourcesContent":["import { IAppTimer, IAppTimerHandler } from \"../Application/IAppTimer\"\r\nimport { AbstractDispatcher } from \"../Utils/Dispatcher\"\r\n\r\nexport enum TimeSpeed {\r\n    Pause,\r\n    Play,\r\n    SpeedUp\r\n}\r\n\r\nexport interface ILoopHandler\r\n{\r\n    OnDayChange?() : void\r\n    OnTimeSpeedChange?(newValue:TimeSpeed):void\r\n}\r\n\r\nexport class Loop extends AbstractDispatcher<ILoopHandler> implements IAppTimerHandler\r\n{\r\n    private _speedType:TimeSpeed\r\n\r\n    \r\n    constructor(timer:IAppTimer){\r\n        super()\r\n        timer.AddHandler(this)\r\n        this._speedType = TimeSpeed.Play\r\n\r\n    }\r\n\r\n    Tick(): void {\r\n        if(this.GetTimeSpeed() === TimeSpeed.Play){\r\n            this._dispatcher.Post((arg)=>arg.OnDayChange?.())\r\n        }\r\n    }\r\n}"]}