{"version":3,"sources":["file:///F:/git/TestMatch3/assets/Scripts/Scene/GameScene/GameScenePresenter.ts"],"names":["GameScenePresenter","constructor","view","_logic","_state","AddHandler","NewGame","name","SetName","NewScore","score","UpdateScore","toString","UpdateField","field","fromOutside","EndGame","info","LoadData","GetField","gameState"],"mappings":";;;8BAMaA,kB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;oCAAAA,kB,GAAN,MAAMA,kBAAN,CAAkD;AAErDC,QAAAA,WAAW,CACCC,IADD,EAECC,MAFD,EAGCC,MAHD,EAIT;AAAA,eAHUF,IAGV,GAHUA,IAGV;AAAA,eAFUC,MAEV,GAFUA,MAEV;AAAA,eADUC,MACV,GADUA,MACV;;AACE,eAAKD,MAAL,CAAYE,UAAZ,CAAuB,IAAvB;AACH;;AAEDC,QAAAA,OAAO,CAACC,IAAD,EAAqB;AACxB,eAAKL,IAAL,CAAUM,OAAV,CAAkBD,IAAlB;AACH;;AAEDE,QAAAA,QAAQ,CAAEC,KAAF,EAAuB;AAC3B,eAAKR,IAAL,CAAUS,WAAV,CAAsBD,KAAK,CAACE,QAAN,EAAtB;AACH;;AAEDC,QAAAA,WAAW,CAAEC,KAAF,EAAkCC,WAAlC,EAA+D;AACtE,eAAKb,IAAL,CAAUW,WAAV,CAAsBC,KAAtB,EAA6BC,WAA7B;AACH;;AAEDC,QAAAA,OAAO,CAACC,IAAD,EAA4B,CAAE;;AAErCC,QAAAA,QAAQ,GAAG;AAAA;;AACP,eAAKhB,IAAL,CAAUW,WAAV,CAAsB,KAAKV,MAAL,CAAYgB,QAAZ,EAAtB;AACA,eAAKjB,IAAL,CAAUS,WAAV,oDAAsB,KAAKP,MAAL,CAAYgB,SAAlC,qBAAsB,uBAAuBV,KAAvB,CAA6BE,QAA7B,EAAtB,oCAA+D,GAA/D;AACA,eAAKV,IAAL,CAAUM,OAAV,qDAAkB,KAAKJ,MAAL,CAAYgB,SAA9B,qBAAkB,uBAAuBb,IAAzC,qCAA+C,EAA/C;AACH;;AA5BoD,O","sourcesContent":["import { BallColor } from \"../../Enums/BallColor\";\r\nimport { Field, IFieldHandler } from \"../../Logic/Field\";\r\nimport { GameStatsInfo } from \"../../Logic/GameStatsInfo\";\r\nimport { ApplicationState } from \"../../Save/State\";\r\nimport { GameSceneComponent } from \"./GameSceneComponent\";\r\n\r\nexport class GameScenePresenter implements IFieldHandler {\r\n\r\n    constructor(\r\n        private view: GameSceneComponent,\r\n        private _logic: Field,\r\n        private _state: ApplicationState\r\n    ) {\r\n        this._logic.AddHandler(this)\r\n    }\r\n\r\n    NewGame(name: string): void {\r\n        this.view.SetName(name)\r\n    }\r\n\r\n    NewScore?(score: number): void {\r\n        this.view.UpdateScore(score.toString())\r\n    }\r\n\r\n    UpdateField?(field: Array<Array<BallColor>>, fromOutside?: boolean): void {\r\n        this.view.UpdateField(field, fromOutside)\r\n    }\r\n\r\n    EndGame(info: GameStatsInfo): void {}\r\n\r\n    LoadData() {\r\n        this.view.UpdateField(this._logic.GetField())\r\n        this.view.UpdateScore(this._state.gameState?.score.toString()??'0')\r\n        this.view.SetName(this._state.gameState?.name??'')\r\n    }\r\n}"]}