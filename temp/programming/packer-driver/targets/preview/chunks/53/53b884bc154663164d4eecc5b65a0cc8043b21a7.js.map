{"version":3,"sources":["file:///F:/git/TestMatch3/assets/Scripts/Dialog/AnsverDialogComponent.ts"],"names":["_decorator","Button","Component","AppRoot","ccclass","property","AnsverDialogComponent","_handler","dialogManager","onEnable","getInstance","ResolveDialogManager","rejectBtn","node","on","EventType","CLICK","OnRejectPressed","acceptBtn","OnAcceptPressed","BackAction","CloseDialog","SetHandler","cb"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,S,OAAAA,S;;AAEpBC,MAAAA,O,iBAAAA,O;;;;;;;;;OAGH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBL,U;;uCAGjBM,qB,WADZF,OAAO,CAAC,uBAAD,C,UAGHC,QAAQ,CAACJ,MAAD,C,UAGRI,QAAQ,CAACJ,MAAD,C,2BANb,MACaK,qBADb,SAC2CJ,SAD3C,CAEA;AAAA;AAAA;;AAAA;;AAAA;;AAAA,eAOYK,QAPZ;AAAA,eASYC,aATZ;AAAA;;AAWcC,QAAAA,QAAQ,GAAS;AAAA;;AACvB,eAAKD,aAAL,GAAqB;AAAA;AAAA,kCAAQE,WAAR,CAAoBC,oBAApB,EAArB;AAEA,kCAAKC,SAAL,qCAAgBC,IAAhB,CAAqBC,EAArB,CAAwBb,MAAM,CAACc,SAAP,CAAiBC,KAAzC,EAA+C,KAAKC,eAApD,EAAoE,IAApE;AACA,kCAAKC,SAAL,qCAAgBL,IAAhB,CAAqBC,EAArB,CAAwBb,MAAM,CAACc,SAAP,CAAiBC,KAAzC,EAA+C,KAAKG,eAApD,EAAoE,IAApE;AACH;;AAEOC,QAAAA,UAAU,GAAG;AACjB,eAAKZ,aAAL,CAAmBa,WAAnB;AACH;;AAEDC,QAAAA,UAAU,CAACC,EAAD,EAAyC;AAC/C,eAAKhB,QAAL,GAAgBgB,EAAhB;AACH;;AAEKJ,QAAAA,eAAe,GACrB;AAAA;;AAAA;AACI,kBAAM,KAAI,CAACZ,QAAX,oBAAM,KAAI,CAACA,QAAL,CAAgB,IAAhB,CAAN;;AACA,YAAA,KAAI,CAACa,UAAL;AAFJ;AAGC;;AAEKH,QAAAA,eAAe,GAAE;AAAA;;AAAA;AACnB,kBAAM,MAAI,CAACV,QAAX,oBAAM,MAAI,CAACA,QAAL,CAAgB,KAAhB,CAAN;;AACA,YAAA,MAAI,CAACa,UAAL;AAFmB;AAGtB;;AAnCL,O","sourcesContent":["import { _decorator, Button, Component, Node } from 'cc';\r\nimport { IDialogManager } from './IDialogManager';\r\nimport { AppRoot } from '../Application/AppRoot';\r\nimport { IAnsverHandler } from './IAnsverHandler';\r\nimport { ISceneManager } from '../Scene/ISceneManager';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('AnsverDialogComponent')\r\nexport class AnsverDialogComponent extends Component implements IAnsverHandler \r\n{\r\n    @property(Button)\r\n    protected rejectBtn?:Button\r\n\r\n    @property(Button)\r\n    protected acceptBtn?:Button\r\n    \r\n    private _handler?:(isAccept:boolean)=>void\r\n\r\n    private dialogManager!:IDialogManager\r\n\r\n    protected onEnable(): void {\r\n        this.dialogManager = AppRoot.getInstance.ResolveDialogManager()\r\n\r\n        this.rejectBtn?.node.on(Button.EventType.CLICK,this.OnRejectPressed,this)\r\n        this.acceptBtn?.node.on(Button.EventType.CLICK,this.OnAcceptPressed,this)\r\n    }\r\n\r\n    private BackAction() {\r\n        this.dialogManager.CloseDialog()\r\n    }\r\n\r\n    SetHandler(cb?: (isAccept: boolean) => void): void {\r\n        this._handler = cb\r\n    }\r\n\r\n    async OnAcceptPressed()\r\n    {\r\n        await this._handler?.(true)\r\n        this.BackAction()\r\n    }\r\n\r\n    async OnRejectPressed(){\r\n        await this._handler?.(false)\r\n        this.BackAction()\r\n    }\r\n}\r\n"]}