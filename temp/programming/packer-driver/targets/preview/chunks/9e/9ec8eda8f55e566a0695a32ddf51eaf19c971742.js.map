{"version":3,"sources":["file:///F:/git/TestMatch3/assets/Scripts/Application/AppRoot.ts"],"names":["AppRoot","GameContext","AppAudio","AppDevice","AppState","constructor","_gameContext","_scene","_soundManager","_dialog","_sound","_device","_saveState","_timer","_platform","getInstance","instance","Init","platform","scene","soundManager","timer","dialog","onLoad","ResolveGameContext","ResolveSceneManager","ResolveSound","ResolveDevice","ResolveTimer","ResovleSaveState","ResolveDialogManager"],"mappings":";;;0EAWaA,O;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAXJC,MAAAA,W,iBAAAA,W;;AACAC,MAAAA,Q,iBAAAA,Q;;AACAC,MAAAA,S,iBAAAA,S;;AACAC,MAAAA,Q,iBAAAA,Q;;;;;;;yBAQIJ,O,GAAN,MAAMA,OAAN,CACP;AAaYK,QAAAA,WAAW,GAAG;AAAA,eAZdC,YAYc;AAAA,eAXdC,MAWc;AAAA,eAVdC,aAUc;AAAA,eATdC,OASc;AAAA,eAPdC,MAOc;AAAA,eANdC,OAMc;AAAA,eALdC,UAKc;AAAA,eAJdC,MAIc;AAAA,eAHdC,SAGc;AAAE;;AACK,mBAAXC,WAAW,GAAY;AACrC,cAAI,KAAKC,QAAL,IAAiB,IAArB,EAA2B;AACvB,iBAAKA,QAAL,GAAgB,IAAIhB,OAAJ,EAAhB;AACH;;AACD,iBAAO,KAAKgB,QAAZ;AACH;;AAEDC,QAAAA,IAAI,CAACC,QAAD,EACCC,KADD,EAECC,YAFD,EAGCC,KAHD,EAICC,MAJD,EAKH;AACG,eAAKR,SAAL,GAAiBI,QAAjB;AACA,eAAKX,MAAL,GAAcY,KAAd;AACA,eAAKX,aAAL,GAAqBY,YAArB;AACA,eAAKP,MAAL,GAAcQ,KAAd;AACA,eAAKZ,OAAL,GAAea,MAAf;AACH;;AAEDC,QAAAA,MAAM,GAAG;AACL,eAAKZ,OAAL,GAAe;AAAA;AAAA,sCAAc,KAAKG,SAAnB,CAAf;AACA,eAAKF,UAAL,GAAkB;AAAA;AAAA,oCAAc,KAAKE,SAAnB,EAA8B,KAAKD,MAAnC,CAAlB;AACA,eAAKH,MAAL,GAAc;AAAA;AAAA,oCAAa,KAAKF,aAAlB,CAAd;AACA,eAAKF,YAAL,GAAoB;AAAA;AAAA,0CAAgB,KAAKC,MAArB,EAA6B,KAAKI,OAAlC,CAApB;AACH;;AAEDa,QAAAA,kBAAkB,GAAG;AAAE,iBAAO,KAAKlB,YAAZ;AAA0B;;AACjDmB,QAAAA,mBAAmB,GAAiB;AAAE,iBAAO,KAAKlB,MAAZ;AAAoB;;AAC1DmB,QAAAA,YAAY,GAAG;AAAE,iBAAO,KAAKhB,MAAZ;AAAoB;;AACrCiB,QAAAA,aAAa,GAAG;AAAE,iBAAO,KAAKhB,OAAZ;AAAqB;;AACvCiB,QAAAA,YAAY,GAAG;AAAE,iBAAO,KAAKf,MAAZ;AAAoB;;AACrCgB,QAAAA,gBAAgB,GAAG;AAAE,iBAAO,KAAKjB,UAAZ;AAAwB;;AAC7CkB,QAAAA,oBAAoB,GAAG;AAAE,iBAAO,KAAKrB,OAAZ;AAAqB;;AA/ClD,O;;AADaT,MAAAA,O,CAaMgB,Q","sourcesContent":["import { GameContext } from '../Session/GameContext';\r\nimport { AppAudio } from './AppAudio';\r\nimport { AppDevice } from './AppDevice';\r\nimport { AppState } from './AppState';\r\nimport { Platform } from './../Enums/ApplicationConfig';\r\nimport { ISceneManager } from '../Scene/ISceneManager';\r\nimport { IAudioManager } from './ApplicationInterfaces';\r\nimport { IAppTimer } from './IAppTimer';\r\nimport { IDialogManager } from '../Dialog/IDialogManager';\r\n\r\n\r\nexport class AppRoot \r\n{\r\n    private _gameContext!:GameContext\r\n    private _scene!:ISceneManager\r\n    private _soundManager!:IAudioManager\r\n    private _dialog!:IDialogManager\r\n\r\n    private _sound!:AppAudio\r\n    private _device!:AppDevice\r\n    private _saveState!:AppState\r\n    private _timer!:IAppTimer\r\n    private _platform!:Platform\r\n\r\n    private static instance: AppRoot;\r\n    private constructor() {}\r\n    public static get getInstance(): AppRoot {\r\n        if (this.instance == null) {\r\n            this.instance = new AppRoot();\r\n        }\r\n        return this.instance;\r\n    }\r\n\r\n    Init(platform:Platform,\r\n         scene:ISceneManager,\r\n         soundManager:IAudioManager,\r\n         timer:IAppTimer,\r\n         dialog:IDialogManager\r\n    ){\r\n        this._platform = platform\r\n        this._scene = scene\r\n        this._soundManager = soundManager\r\n        this._timer = timer\r\n        this._dialog = dialog\r\n    }\r\n\r\n    onLoad() {\r\n        this._device = new AppDevice(this._platform)      \r\n        this._saveState = new AppState( this._platform, this._timer)                                     \r\n        this._sound = new AppAudio(this._soundManager);\r\n        this._gameContext = new GameContext(this._scene, this._device);\r\n    }\r\n    \r\n    ResolveGameContext() { return this._gameContext }\r\n    ResolveSceneManager():ISceneManager { return this._scene }\r\n    ResolveSound() { return this._sound }\r\n    ResolveDevice() { return this._device }\r\n    ResolveTimer() { return this._timer }\r\n    ResovleSaveState() { return this._saveState }\r\n    ResolveDialogManager() { return this._dialog }\r\n}\r\n\r\n"]}