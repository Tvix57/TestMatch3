{"version":3,"sources":["file:///F:/git/TestMatch3/assets/Scripts/Application/AppRoot.ts"],"names":["AppRoot","GameContext","AppAudio","AppDevice","constructor","_gameContext","_scene","_soundManager","_sound","_device","_saveState","_timer","_platform","getInstance","instance","Init","platform","scene","soundManager","timer","onLoad","ResolveGameContext","ResolveSceneManager","ResolveSound","ResolveDevice","ResolveTimer","ResovleSaveState"],"mappings":";;;gEAUaA,O;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAVJC,MAAAA,W,iBAAAA,W;;AACAC,MAAAA,Q,iBAAAA,Q;;AACAC,MAAAA,S,iBAAAA,S;;;;;;;yBAQIH,O,GAAN,MAAMA,OAAN,CACP;AAYYI,QAAAA,WAAW,GAAG;AAAA,eAXdC,YAWc;AAAA,eAVdC,MAUc;AAAA,eATdC,aASc;AAAA,eAPdC,MAOc;AAAA,eANdC,OAMc;AAAA,eALdC,UAKc;AAAA,eAJdC,MAIc;AAAA,eAHdC,SAGc;AAAE;;AACK,mBAAXC,WAAW,GAAY;AACrC,cAAI,KAAKC,QAAL,IAAiB,IAArB,EAA2B;AACvB,iBAAKA,QAAL,GAAgB,IAAId,OAAJ,EAAhB;AACH;;AACD,iBAAO,KAAKc,QAAZ;AACH;;AAEDC,QAAAA,IAAI,CAACC,QAAD,EACCC,KADD,EAECC,YAFD,EAGCC,KAHD,EAIH;AACG,eAAKP,SAAL,GAAiBI,QAAjB;AACA,eAAKV,MAAL,GAAcW,KAAd;AACA,eAAKV,aAAL,GAAqBW,YAArB;AACA,eAAKP,MAAL,GAAcQ,KAAd;AACH;;AAEDC,QAAAA,MAAM,GAAG;AACL,eAAKX,OAAL,GAAe;AAAA;AAAA,sCAAc,KAAKG,SAAnB,CAAf;AACA,eAAKJ,MAAL,GAAc;AAAA;AAAA,oCAAa,KAAKD,aAAlB,CAAd;AACA,eAAKF,YAAL,GAAoB;AAAA;AAAA,0CAAgB,KAAKC,MAArB,EAA6B,KAAKG,OAAlC,CAApB;AACH;;AAEDY,QAAAA,kBAAkB,GAAG;AAAE,iBAAO,KAAKhB,YAAZ;AAA0B;;AACjDiB,QAAAA,mBAAmB,GAAiB;AAAE,iBAAO,KAAKhB,MAAZ;AAAoB;;AAC1DiB,QAAAA,YAAY,GAAG;AAAE,iBAAO,KAAKf,MAAZ;AAAoB;;AACrCgB,QAAAA,aAAa,GAAG;AAAE,iBAAO,KAAKf,OAAZ;AAAqB;;AACvCgB,QAAAA,YAAY,GAAG;AAAE,iBAAO,KAAKd,MAAZ;AAAoB;;AACrCe,QAAAA,gBAAgB,GAAG;AAAE,iBAAO,KAAKhB,UAAZ;AAAwB;;AA1CjD,O;;AADaV,MAAAA,O,CAYMc,Q","sourcesContent":["import { GameContext } from '../Session/GameContext';\r\nimport { AppAudio } from './AppAudio';\r\nimport { AppDevice } from './AppDevice';\r\nimport { AppState } from './AppState';\r\nimport { Platform } from './../Enums/ApplicationConfig';\r\nimport { ISceneManager } from '../Scene/ISceneManager';\r\nimport { IAudioManager } from './ApplicationInterfaces';\r\nimport { IAppTimer } from './IAppTimer';\r\n\r\n\r\nexport class AppRoot \r\n{\r\n    private _gameContext!:GameContext\r\n    private _scene!:ISceneManager\r\n    private _soundManager!:IAudioManager\r\n\r\n    private _sound!:AppAudio\r\n    private _device!:AppDevice\r\n    private _saveState!:AppState\r\n    private _timer!:IAppTimer\r\n    private _platform!:Platform\r\n\r\n    private static instance: AppRoot;\r\n    private constructor() {}\r\n    public static get getInstance(): AppRoot {\r\n        if (this.instance == null) {\r\n            this.instance = new AppRoot();\r\n        }\r\n        return this.instance;\r\n    }\r\n\r\n    Init(platform:Platform,\r\n         scene:ISceneManager,\r\n         soundManager:IAudioManager,\r\n         timer:IAppTimer\r\n    ){\r\n        this._platform = platform\r\n        this._scene = scene\r\n        this._soundManager = soundManager\r\n        this._timer = timer\r\n    }\r\n\r\n    onLoad() {\r\n        this._device = new AppDevice(this._platform)                                           \r\n        this._sound = new AppAudio(this._soundManager);\r\n        this._gameContext = new GameContext(this._scene, this._device);\r\n    }\r\n    \r\n    ResolveGameContext() { return this._gameContext }\r\n    ResolveSceneManager():ISceneManager { return this._scene }\r\n    ResolveSound() { return this._sound }\r\n    ResolveDevice() { return this._device }\r\n    ResolveTimer() { return this._timer }\r\n    ResovleSaveState() { return this._saveState }\r\n}\r\n\r\n"]}