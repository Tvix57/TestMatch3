{"version":3,"sources":["file:///F:/git/TestMatch3/assets/Scripts/Scene/BackActionComponent.ts"],"names":["_decorator","Button","Component","AppRoot","ccclass","requireComponent","BackActionComponent","sceneManager","dialogManager","onLoad","getInstance","ResolveSceneManager","ResolveDialogManager","start","node","on","EventType","CLICK","BackAction","event","customEventData","CloseDialog","TransferBack"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,S,OAAAA,S;;AACpBC,MAAAA,O,iBAAAA,O;;;;;;;;;OAGH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAgCL,U;;qCAIzBM,mB,WAFZF,OAAO,CAAC,qBAAD,C,UACPC,gBAAgB,CAACJ,MAAD,C,+BADjB,MAEaK,mBAFb,SAEyCJ,SAFzC,CAGA;AAAA;AAAA;AAAA,eACYK,YADZ;AAAA,eAEYC,aAFZ;AAAA;;AAIcC,QAAAA,MAAM,GAAS;AACrB,eAAKF,YAAL,GAAoB;AAAA;AAAA,kCAAQG,WAAR,CAAoBC,mBAApB,EAApB;AACA,eAAKH,aAAL,GAAqB;AAAA;AAAA,kCAAQE,WAAR,CAAoBE,oBAApB,EAArB;AACH;;AAESC,QAAAA,KAAK,GAAG;AACd,eAAKC,IAAL,CAAUC,EAAV,CAAad,MAAM,CAACe,SAAP,CAAiBC,KAA9B,EAAoC,KAAKC,UAAzC,EAAoD,IAApD;AACH;;AAEOA,QAAAA,UAAU,CAACC,KAAD,EAAeC,eAAf,EAClB;AACI,cAAG,CAAC,KAAKZ,aAAL,CAAmBa,WAAnB,EAAJ,EAAqC;AACjC,iBAAKd,YAAL,CAAkBe,YAAlB;AACH;AACJ;;AAlBL,O","sourcesContent":["import { _decorator, Button, Component, Event } from 'cc';\r\nimport { AppRoot } from '../Application/AppRoot';\r\nimport { IDialogManager } from '../Dialog/IDialogManager';\r\nimport { ISceneManager } from './ISceneManager';\r\nconst { ccclass, requireComponent } = _decorator;\r\n\r\n@ccclass('BackActionComponent')\r\n@requireComponent(Button)\r\nexport class BackActionComponent extends Component \r\n{\r\n    private sceneManager!:ISceneManager\r\n    private dialogManager!:IDialogManager\r\n\r\n    protected onLoad(): void {\r\n        this.sceneManager = AppRoot.getInstance.ResolveSceneManager()\r\n        this.dialogManager = AppRoot.getInstance.ResolveDialogManager()\r\n    }\r\n\r\n    protected start() {\r\n        this.node.on(Button.EventType.CLICK,this.BackAction,this)\r\n    }\r\n\r\n    private BackAction(event: Event, customEventData: string)\r\n    {\r\n        if(!this.dialogManager.CloseDialog()){\r\n            this.sceneManager.TransferBack()\r\n        }\r\n    }\r\n}\r\n\r\n"]}