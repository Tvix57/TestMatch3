{"version":3,"sources":["file:///F:/git/TestMatch3/assets/Scripts/Save/SaveTimerExecutor.ts"],"names":["SaveTimerExecutor","constructor","timer","saveDispatcher","period","_count","AddHandler","Tick","Save","OnActivate","OnDeactivate"],"mappings":";;;8BAGaA,iB;;;;;;;;;;;;;;;;;;;;;;;;;;;mCAAAA,iB,GAAN,MAAMA,iBAAN,CACP;AAGIC,QAAAA,WAAW,CACCC,KADD,EAECC,cAFD,EAGCC,MAHD,EAIT;AAAA,eANMC,MAMN;AAAA,eAHUH,KAGV,GAHUA,KAGV;AAAA,eAFUC,cAEV,GAFUA,cAEV;AAAA,eADUC,MACV,GADUA,MACV;AACEF,UAAAA,KAAK,CAACI,UAAN,CAAiB,IAAjB;AACA,eAAKD,MAAL,GAAcD,MAAd;AACH;;AACDG,QAAAA,IAAI,GAAS;AACT,eAAKF,MAAL,IAAe,CAAf;;AACA,cAAG,KAAKA,MAAL,IAAe,CAAlB,EAAoB;AAChB,iBAAKF,cAAL,CAAoBK,IAApB;AACA,iBAAKH,MAAL,GAAc,KAAKD,MAAnB;AACH;AACJ;;AACDK,QAAAA,UAAU,GAAS,CAAG;;AACtBC,QAAAA,YAAY,GAAS,CAAG;;AAnB5B,O","sourcesContent":["import { IAppTimer, IAppTimerHandler } from \"../Application/IAppTimer\";\r\nimport { SaveDispatcher } from \"./SaveDispatcher\";\r\n\r\nexport class SaveTimerExecutor implements IAppTimerHandler\r\n{\r\n    private _count:number\r\n\r\n    constructor(\r\n        private timer:IAppTimer,\r\n        private saveDispatcher:SaveDispatcher,\r\n        private period:number\r\n    ) {\r\n        timer.AddHandler(this)\r\n        this._count = period\r\n    }\r\n    Tick(): void {\r\n        this._count -= 1\r\n        if(this._count <= 0){\r\n            this.saveDispatcher.Save()\r\n            this._count = this.period\r\n        }\r\n    }\r\n    OnActivate(): void { }\r\n    OnDeactivate(): void { }\r\n}"]}