{"version":3,"sources":["file:///F:/git/TestMatch3/assets/Scripts/Save/Android/AndroidSaveState.ts"],"names":["AndroidSaveState","native","ApplicationState","constructor","prefferedLang","LoadState","Load","getFile","SaveState","state","setFile","Save","reflection","callStaticMethod","input"],"mappings":";;;yGAWaA,gB;;;;;;;;;;;;;;;;;;;;;;;AAJJC,MAAAA,M,OAAAA,M;;AAEAC,MAAAA,gB,iBAAAA,gB;;;;;;AATT;AACA;AACA;AACA;AACA;AACA;;;;;kCAMaF,gB,GAAN,MAAMA,gBAAN,CACP;AACIG,QAAAA,WAAW,CAASC,aAAT,EAA8B;AAAA,eAArBA,aAAqB,GAArBA,aAAqB;AAAG;;AAE5CC,QAAAA,SAAS,GAAW;AAChB,iBAAO;AAAA;AAAA,oDAAiBC,IAAjB,CAAsB,KAAKC,OAAL,EAAtB,EAAqC,KAAKH,aAA1C,CAAP;AACH;;AAEDI,QAAAA,SAAS,CAACC,KAAD,EAAgC;AACrC,eAAKC,OAAL,CAAcD,KAAK,CAACE,IAAN,EAAd;AACH;;AAEOJ,QAAAA,OAAO,GACf;AACI,iBAAON,MAAM,CAACW,UAAP,CAAkBC,gBAAlB,CAAmC,+BAAnC,EAAmE,SAAnE,EAA6E,sBAA7E,CAAP;AACH;;AAEOH,QAAAA,OAAO,CAACI,KAAD,EACf;AACIb,UAAAA,MAAM,CAACW,UAAP,CAAkBC,gBAAlB,CAAmC,+BAAnC,EAAmE,WAAnE,EAA+E,uBAA/E,EAAuGC,KAAvG;AACH;;AAnBL,O","sourcesContent":["/**\r\n * \r\n * AndroidSaveState.ts\r\n * db://assets/Scripts/Save/Android/AndroidSaveState.ts\r\n *\r\n */\r\n\r\nimport { native } from 'cc'\r\nimport { IState, IStateSaver } from \"../SaveInterfaces\";\r\nimport { ApplicationState } from '../State';\r\n\r\nexport class AndroidSaveState implements IStateSaver\r\n{\r\n    constructor(private prefferedLang:string){ }\r\n\r\n    LoadState(): IState {\r\n        return ApplicationState.Load(this.getFile(),this.prefferedLang)\r\n    }\r\n    \r\n    SaveState(state: ApplicationState): void {\r\n        this.setFile( state.Save() )\r\n    }\r\n\r\n    private getFile():string\r\n    {\r\n        return native.reflection.callStaticMethod(\"com/grit/fftc/utils/FileUtils\",\"getFile\",\"()Ljava/lang/String;\")\r\n    }\r\n\r\n    private setFile(input:string)\r\n    {\r\n        native.reflection.callStaticMethod(\"com/grit/fftc/utils/FileUtils\",\"writeFile\",\"(Ljava/lang/String;)V\",input)\r\n    }\r\n}"]}